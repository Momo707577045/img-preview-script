# 图片预览工具

一个基于Vue.js的图片预览和管理工具，支持图片排序、过滤、智能识别等功能。

## 功能特性

### 基础功能
- 图片列表展示和预览
- 多种排序方式（宽度、高度、路径、体积）
- 文件夹过滤功能
- 背景切换（白色、灰色、棋盘格）
- 悬浮预览
- 图片锁定功能
- 代码生成模板（支持自定义模板和预设模板）

### 选中功能 ✨
- **图片选中/取消选中**：点击图片顶部中间的选中按钮可以选中或取消选中图片
- **一键取消选择**：顶部有"取消选择"按钮，可以一键取消所有选中的图片
- **选中图片置顶**：选中的图片会自动排在列表顶部，不受排序影响
- **视觉标记**：选中的图片有明显的红色边框和阴影，与未选中的图片明显区分
- **独立排序**：选中的图片保持位置不变，只有未选中的图片参与排序

### 代码模板功能 ✨
- **预设模板**：支持 Import、Require、HTML img、Markdown、CSS url、仅路径等多种预设模板
- **自定义模板**：支持自定义代码模板，使用变量 {path}、{name}、{fullname}、{width}、{height}、{size}、{ext}
- **模板编辑**：预设模板可以编辑，修改后自动保存
- **模板持久化**：所有模板设置自动保存到 localStorage，重新打开时自动恢复
- **模板重置**：支持重置预设模板到默认值

## 使用方法

### 启动服务器

1. **默认启动**（自动打开浏览器，随机端口 20000-25000）：
   ```bash
   node server.js
   ```

2. **指定端口**：
   ```bash
   node server.js --port 3000
   # 或
   node server.js -p 3000
   # 或
   node server.js --port=3000
   ```

3. **指定扫描目录**：
   ```bash
   node server.js --dir /path/to/images
   # 或
   node server.js -d /path/to/images
   # 或
   node server.js --dir=/path/to/images
   ```

4. **同时指定端口和目录**：
   ```bash
   node server.js --port 3000 --dir /path/to/images
   # 或
   node server.js -p 3000 -d /path/to/images
   ```

### 命令行参数说明

- `--port` 或 `-p`: 指定服务器端口（默认：20000-25000 随机端口）
- `--dir` 或 `-d`: 指定要扫描的图片目录（默认：脚本所在目录）

### 功能使用

#### 图片排序
- **宽度排序**：点击"宽度↑"或"宽度↓"按钮
- **高度排序**：点击"高度↑"或"高度↓"按钮
- **路径排序**：点击"路径↑"或"路径↓"按钮
- **体积排序**：点击"体积↑"或"体积↓"按钮（按文件大小排序）

#### 图片选中
- 点击图片顶部中间的"选中"/"取消"按钮来选中或取消选中图片
- 点击顶部的"取消选择"按钮可以一键取消所有选中的图片
- 选中的图片会自动排在列表顶部，不受排序影响
- 选中的图片有明显的红色边框和阴影标记

#### 代码模板
- 在右侧面板选择预设模板或自定义模板
- 编辑代码模板时，修改会自动保存
- 预设模板可以编辑，编辑后会自动保存
- 点击"重置"按钮可以重置所有预设模板到默认值
- 所有设置会在重新打开时自动恢复

## 技术栈

- 前端：Vue.js 2
- 后端：Node.js + Express
- 图像处理：Sharp（服务器端）
- 样式：原生CSS
- 数据持久化：localStorage

## 文件结构

```
img-preview-script/
├── index.html          # 主页面
├── index.js            # Vue应用逻辑
├── server.js           # Express服务器
├── vue.js              # Vue.js库
├── package.json        # 项目配置
└── README.md           # 项目说明文档
```

## 依赖安装

```bash
npm install
```

## 注意事项

- 服务器启动后会自动打开浏览器
- 默认端口范围为 20000-25000（随机选择）
- 默认扫描脚本所在目录下的所有图片
- 代码模板设置会自动保存到浏览器 localStorage
- 支持 Windows、macOS 和 Linux 系统