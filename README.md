# 图片预览工具

一个功能强大的图片预览和代码生成工具，可以帮助开发者快速浏览项目中的图片资源并生成各种引用代码。

## 功能特性

### 服务端功能
- 🔍 **智能扫描**: 自动遍历项目目录及子目录，发现所有图片文件
- 📊 **图片信息**: 提供图片的访问路径、文件大小、修改时间等详细信息
- 🖼️ **静态服务**: 提供图片静态文件服务，支持直接访问图片资源
- 🔒 **安全防护**: 内置路径遍历攻击防护，确保文件访问安全

### 前端功能
- 📋 **图片列表**: 左侧展示所有图片的缩略图、名称和路径
- 🔍 **图片预览**: 点击图片可在弹窗中完整预览
- 📌 **固定显示**: 支持锁定图片到右侧上方作为参考
- 💻 **代码生成**: 自动生成多种框架的图片引用代码
- 📋 **一键复制**: 点击代码块即可复制到剪贴板

## 支持的图片格式

- JPG / JPEG
- PNG
- GIF
- BMP
- WebP
- SVG

## 代码生成支持

- **Vue.js**: 组件引用、require 导入、Element UI 组件
- **React**: import 导入、require 引用、组件使用
- **HTML**: img 标签、内联样式背景
- **CSS**: 背景图片、样式类定义
- **JavaScript**: 变量定义、模块导入

## 安装和使用

### 1. 安装依赖
```bash
npm install
```

### 2. 启动服务
```bash
npm start
```

或者使用开发模式（支持热重载）：
```bash
npm run dev
```

### 3. 访问应用
打开浏览器访问: `http://localhost:3000`

## 项目结构

```
img-preview-script/
├── server.js          # Node.js 服务端
├── index.html         # 前端页面
├── index.js           # 前端逻辑
├── package.json       # 项目配置
├── start.bat          # Windows 启动脚本
├── test-images/       # 测试图片目录
└── README.md          # 项目说明
```

## 使用说明

1. **浏览图片**: 启动服务后，左侧会自动显示项目中的所有图片
2. **预览图片**: 点击任意图片可在弹窗中查看完整预览
3. **锁定图片**: 在预览弹窗中点击"锁定"按钮，图片会固定在右侧上方
4. **复制代码**: 选择图片后，右侧下方会显示各种引用代码，点击即可复制
5. **解锁图片**: 点击固定区域的"解锁"按钮可移除锁定的图片

## 快速启动

### Windows 用户
双击 `start.bat` 文件即可自动安装依赖并启动服务器。

### 其他系统用户
```bash
# 安装依赖
npm install

# 启动服务器
npm start
```

## 技术栈

- **后端**: Node.js + Express
- **前端**: 原生 JavaScript + HTML5 + CSS3
- **图片处理**: Sharp (获取图片元数据)
- **其他**: CORS、文件系统操作

## 特色功能

### 智能代码生成
根据图片名称和路径自动生成符合命名规范的变量名和引用代码。

### 响应式设计
支持桌面端和移动端访问，在小屏幕设备上自动调整布局。

### 安全防护
- 路径遍历攻击防护
- 文件类型验证
- 错误处理和异常捕获

## 开发说明

### 添加新的代码模板
在 `index.js` 的 `generateCodeSamples` 方法中添加新的代码模板：

```javascript
{
    title: '新框架引用',
    samples: [
        `// 新的代码模板`,
        `// 更多示例...`
    ]
}
```

### 扩展图片格式支持
在 `server.js` 的 `imageExtensions` 数组中添加新的文件扩展名。

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request！